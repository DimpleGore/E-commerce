(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{51:function(e,t,c){},82:function(e,t,c){"use strict";c.r(t);var r=c(1),n=c.n(r),a=c(23),s=c.n(a),i=(c(51),c(2)),d=c(15),o=c(8),l=c(3),j=c.n(l),b=c(5),u=c(7),h=c(4),p=c.n(h),O=c(17),x=c.n(O),m=(c(27),"GET_PRODUCTS_REQUEST"),f="GET_PRODUCTS_SUCCESS",v="GET_PRODUCTS_FAIL",g="GET_PRODUCTS_REQUEST",y="GET_PRODUCTS_SUCCESS",N="GET_PRODUCTS_FAIL",w="GET_PRODUCTS_DETAILS_RESET",k=function(e,t){return function(){var c=Object(b.a)(j.a.mark((function c(r){var n,a,s;return j.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.prev=0,r({type:m}),c.next=4,p.a.get("/api/products");case 4:n=c.sent,a=n.data,console.log(a),s=a.filter((function(c){return(c.name.toUpperCase().startsWith(e.toUpperCase())||c.category.toUpperCase().startsWith(e.toUpperCase()))&&c.category.toUpperCase().startsWith(t.toUpperCase())})),console.log(s),r({type:f,payload:s}),c.next=15;break;case 12:c.prev=12,c.t0=c.catch(0),r({type:v,payload:c.t0.response&&c.t0.response.data.message?c.t0.response.data.message:c.t0.message});case 15:case"end":return c.stop()}}),c,null,[[0,12]])})));return function(e){return c.apply(this,arguments)}}()},C=(c(77),c(0));var S=function(e){var t=Object(r.useContext)(E),c=(Object(i.a)(t.userAPI.isAdmin,1)[0],Object(i.a)(t.token,1)[0],Object(r.useState)(!1)),n=Object(i.a)(c,2),a=n[0],s=(n[1],Object(i.a)(t.val,2)),d=s[0],o=(s[1],Object(u.b)()),l=Object(u.c)((function(e){return e.getProducts})),j=Object(i.a)(t.category,1)[0],b=l.products,h=l.loading;return console.log(b),Object(r.useEffect)((function(){o(k(d,j))}),[a,d,j]),Object(C.jsx)("div",{children:Object(C.jsxs)("div",{children:[h&&Object(C.jsx)("h2",{children:"Loading..."}),b&&0===b.length&&Object(C.jsx)("h4",{children:"No results found..."}),Object(C.jsx)("div",{className:"homeGrid",children:b&&b.map((function(t){return Object(C.jsxs)("div",{className:"endBorder",children:[Object(C.jsx)("div",{children:Object(C.jsx)("img",{src:t.images.url,className:"image",onClick:function(){return c=t._id,void e.history.push("/product/"+c);var c}})}),Object(C.jsxs)("div",{className:"name",href:"#",onClick:function(){return c=t._id,void e.history.push("/product/".concat(c));var c},children:[t.name," "]}),Object(C.jsxs)("div",{className:"price",children:["Rs.",t.price]})]},t._id)}))})]})})};var I=function(e){Object(r.useContext)(E);var t=Object(r.useState)(!1),c=Object(i.a)(t,2),n=c[0],a=c[1],s=Object(r.useState)(!1),d=Object(i.a)(s,2),o=d[0],l=d[1],u=Object(r.useState)(0),h=Object(i.a)(u,2),O=h[0],x=h[1],m=Object(r.useState)(null),f=Object(i.a)(m,2),v=f[0],g=f[1],y=Object(r.useState)([]),N=Object(i.a)(y,2),w=N[0],k=N[1],C=Object(r.useState)([]),S=Object(i.a)(C,2),I=S[0],P=S[1];return Object(r.useEffect)((function(){e&&function(){var t=Object(b.a)(j.a.mark((function t(){var c;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,p.a.get("/user/infor",{headers:{Authorization:e}});case 3:c=t.sent,x(c.data._id),g(c),0===c.data.role?a(!0):a(!1),1===c.data.role?l(!0):l(!1),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),alert(t.t0);case 13:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(){return t.apply(this,arguments)}}()()}),[e]),Object(r.useEffect)((function(){n&&function(){var t=Object(b.a)(j.a.mark((function t(){var c;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,p.a.get("/user/myOrder",{headers:{Authorization:e}});case 2:c=t.sent,k(c.data);case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()()}),[n]),Object(r.useEffect)((function(){o&&function(){var t=Object(b.a)(j.a.mark((function t(){var c;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,p.a.get("/api/adminorder",{headers:{Authorization:e}});case 2:c=t.sent,P(c.data);case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()()}),[o]),{isLogged:[n,a],isAdmin:[o,l],id:[O,x],resp:[v,g],records:[w,k],order:[I,P]}};var P=function(){var e=Object(r.useState)([]),t=Object(i.a)(e,2),c=t[0],n=t[1],a=Object(r.useState)(!1),s=Object(i.a)(a,2),d=s[0],o=s[1];return Object(r.useEffect)((function(){(function(){var e=Object(b.a)(j.a.mark((function e(){var t;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.a.get("/api/category");case 2:t=e.sent,n(t.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[d]),{categories:[c,n],callback:[d,o]}},_=c(16),A=c(9);var D=function(e){var t=Object(r.useContext)(E),c=(Object(i.a)(t.userAPI.id,1)[0],Object(i.a)(t.token,1)[0],Object(r.useState)({address:"",mobileNumber:"",pincode:"",city:"",state:""})),n=Object(i.a)(c,2),a=n[0],s=n[1],d=function(e){var t=e.target,c=t.name,r=t.value;s(Object(A.a)(Object(A.a)({},a),{},Object(_.a)({},c,r)))},o=function(){var t=Object(b.a)(j.a.mark((function t(c){return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:c.preventDefault(),e.history.push({pathname:"/review",state:{user:a}});case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(C.jsx)("div",{style:{padding:"4%"},children:Object(C.jsx)("center",{children:Object(C.jsxs)("div",{className:"formLayout",children:[Object(C.jsx)("h4",{style:{padding:"20px"},children:"Address Form"}),Object(C.jsx)("form",{onSubmit:o,children:Object(C.jsxs)("table",{children:[Object(C.jsx)("tr",{children:Object(C.jsx)("td",{className:"col",children:Object(C.jsx)("input",{type:"textarea",className:"field",name:"address",id:"address",placeholder:"Address",value:a.address,onChange:d})})}),Object(C.jsx)("tr",{children:Object(C.jsx)("td",{className:"col",children:Object(C.jsx)("input",{type:"text",name:"mobileNumber",className:"field",id:"mobileNumber",placeholder:"Mobile Number",value:a.mobileNumber,onChange:d})})}),Object(C.jsx)("tr",{children:Object(C.jsx)("td",{className:"col",children:Object(C.jsx)("input",{type:"text",className:"field",name:"pincode",id:"pincode",placeholder:"Pincode",value:a.pincode,onChange:d})})}),Object(C.jsx)("tr",{children:Object(C.jsx)("td",{className:"col",children:Object(C.jsx)("input",{type:"text",className:"field",name:"city",id:"city",placeholder:"City",value:a.city,onChange:d})})}),Object(C.jsx)("tr",{children:Object(C.jsx)("td",{className:"col",children:Object(C.jsx)("input",{type:"text",className:"field",name:"state",id:"state",placeholder:"State",value:a.state,onChange:d})})}),Object(C.jsx)("tr",{children:Object(C.jsx)("td",{style:{padding:"30px"},children:Object(C.jsx)("button",{className:"formButton",type:"submit",children:"Pay with Razorpay"})})})]})}),Object(C.jsx)("div",{style:{padding:"5px"},children:Object(C.jsx)("button",{className:"backButton",type:"submit",onClick:function(){e.history.push("/cart")},children:"Back"})})]})})})},E=Object(r.createContext)(),T=function(e){var t=e.children,c=Object(r.useState)(!1),n=Object(i.a)(c,2),a=n[0],s=n[1],d=Object(r.useState)(""),o=Object(i.a)(d,2),l=o[0],u=o[1],h=Object(r.useState)(""),O=Object(i.a)(h,2),x=O[0],m=O[1];Object(r.useEffect)((function(){if(localStorage.getItem("firstLogin")){var e=function(){var t=Object(b.a)(j.a.mark((function t(){var c;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,p.a.get("/user/refresh_token");case 2:c=t.sent,s(c.data.accesstoken),setTimeout((function(){e()}),6e5);case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();e()}}),[]);var f={token:[a,s],userAPI:I(a),categoryAPI:P(),category:[l,u],val:[x,m]};return Object(C.jsx)(E.Provider,{value:f,children:t})};var R=function(e){var t=Object(r.useContext)(E),c=Object(i.a)(t.userAPI.isLogged,2),n=c[0],a=(c[1],Object(i.a)(t.userAPI.isAdmin,2)),s=a[0],d=(a[1],Object(i.a)(t.val,2)),o=d[0],l=d[1],h=Object(i.a)(t.userAPI.resp,1)[0],O=Object(i.a)(t.categoryAPI.categories,1)[0],x=Object(i.a)(t.category,2),m=(x[0],x[1]),f=Object(r.useRef)(),v=Object(r.useRef)(),g=Object(r.useRef)(),y=function(){var e=Object(b.a)(j.a.mark((function e(){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.a.get("/user/logout");case 2:localStorage.removeItem("firstLogin"),window.location.href="/";case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),N=Object(u.c)((function(e){return e.cart})).cartItems;return Object(C.jsx)("div",{className:"topnav",children:Object(C.jsxs)("div",{className:"navigationBar",children:[Object(C.jsxs)("div",{id:"mySidenav",className:"sidenav",ref:f,children:[Object(C.jsx)("a",{href:"javascript:void(0)",className:"closebtn",onClick:function(){f.current.style.width="0"},children:"\xd7"}),s&&Object(C.jsxs)("h4",{style:{color:"white"},children:["Hey, ",h.data.name]}),n&&Object(C.jsxs)("h4",{style:{color:"white"},children:["Hey, ",h.data.name]}),Object(C.jsx)("a",{href:"#",onClick:function(){"block"==v.current.style.display?v.current.style.display="none":v.current.style.display="block"},children:"Categories"}),Object(C.jsxs)("ul",{ref:v,style:{display:"none"},children:[Object(C.jsx)("a",{href:"#",onClick:function(){m("")},children:Object(C.jsx)("li",{style:{fontSize:"30px"},children:"All Products"})}),O.map((function(e){return Object(C.jsx)("a",{ref:g,href:"#",onClick:function(){return function(e){m(e.name)}(e)},children:Object(C.jsx)("li",{children:e.name})})}))]}),!n&&!s&&Object(C.jsx)("a",{href:"/noOrder",children:"My Order"}),n&&Object(C.jsx)("a",{href:"/order",children:"My Order"}),Object(C.jsx)("br",{}),s&&Object(C.jsx)("a",{href:"/adminOrder",children:"My Order"}),Object(C.jsx)("br",{}),s?"":Object(C.jsx)("a",{href:"/cart",children:"My Cart"}),Object(C.jsx)("a",{href:"#",children:"Contact"})]}),Object(C.jsx)("div",{children:Object(C.jsx)("span",{style:{"font-size":"30px",cursor:"pointer",color:"white"},onClick:function(){f.current.style.width="250px"},children:"\u2630"})}),Object(C.jsx)("div",{className:"websiteName",children:Object(C.jsx)("a",{href:"/",style:{textDecoration:"none",fontSize:"25px",fontWeight:"bold"},children:"Smart Shop"})}),Object(C.jsx)("div",{children:Object(C.jsx)("input",{className:"inputField",type:"text",id:"search",name:"search",placeholder:"Search","aria-label":"Search",value:o,onInput:function(e){return l(e.target.value)}})}),Object(C.jsx)("div",{children:s?"":Object(C.jsx)("div",{children:Object(C.jsxs)("a",{style:{textDecoration:"none"},href:"/cart",children:[Object(C.jsx)("i",{className:"fas fa-shopping-cart"}),"Cart ",Object(C.jsx)("span",{children:N.reduce((function(e){return e+1}),0)})]})})}),Object(C.jsxs)("div",{children:[!n&&!s&&Object(C.jsxs)("div",{style:{paddingTop:"5px"},children:[Object(C.jsx)("button",{className:"btn btn-secondary dropdown-toggle",type:"button",id:"dropdownMenu2","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false",children:"Login"}),Object(C.jsxs)("div",{className:"dropdown-menu","aria-labelledby":"dropdownMenu2",children:[Object(C.jsx)("a",{className:"dropdown-item",href:"/login",style:{color:"black"},children:"Login"}),Object(C.jsx)("a",{className:"dropdown-item",href:"/register",style:{color:"black"},type:"button",children:"Register"})]})]}),n&&Object(C.jsxs)("div",{children:[Object(C.jsx)("button",{className:"btn btn-secondary dropdown-toggle",type:"button",id:"dropdownMenu2","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false",children:Object(C.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"35",height:"45",fill:"currentColor",class:"bi bi-person-circle",viewBox:"0 0 16 16",children:[Object(C.jsx)("path",{d:"M11 6a3 3 0 1 1-6 0 3 3 0 0 1 6 0z"}),Object(C.jsx)("path",{"fill-rule":"evenodd",d:"M0 8a8 8 0 1 1 16 0A8 8 0 0 1 0 8zm8-7a7 7 0 0 0-5.468 11.37C3.242 11.226 4.805 10 8 10s4.757 1.225 5.468 2.37A7 7 0 0 0 8 1z"})]})}),Object(C.jsx)("div",{className:"dropdown-menu","aria-labelledby":"dropdownMenu2",children:Object(C.jsx)("a",{className:"dropdown-item",href:"#",onClick:y,style:{color:"black"},children:"Logout"})})]}),s&&Object(C.jsx)("div",{className:"dropdown",style:{display:"flex",alignItems:"flex-end"},children:Object(C.jsxs)("div",{children:[Object(C.jsx)("button",{className:"btn btn-secondary dropdown-toggle",type:"button",id:"dropdownMenu2","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false",children:Object(C.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"35",height:"45",fill:"currentColor",class:"bi bi-person-circle",viewBox:"0 0 16 16",children:[Object(C.jsx)("path",{d:"M11 6a3 3 0 1 1-6 0 3 3 0 0 1 6 0z"}),Object(C.jsx)("path",{"fill-rule":"evenodd",d:"M0 8a8 8 0 1 1 16 0A8 8 0 0 1 0 8zm8-7a7 7 0 0 0-5.468 11.37C3.242 11.226 4.805 10 8 10s4.757 1.225 5.468 2.37A7 7 0 0 0 8 1z"})]})}),Object(C.jsxs)("div",{className:"dropdown-menu","aria-labelledby":"dropdownMenu2",children:[Object(C.jsx)("a",{className:"dropdown-item",href:"/dashboard",style:{color:"black"},children:"Dashboard"}),Object(C.jsx)("a",{className:"dropdown-item",href:"/dashboard",style:{color:"black"},children:"Create Product"}),Object(C.jsx)("a",{className:"dropdown-item",href:"/dashboard",style:{color:"black"},children:"Create Category"}),Object(C.jsx)("a",{className:"dropdown-item",href:"#",onClick:y,style:{color:"black"},children:"Logout"})]})]})})]})]})})};var L=function(){return Object(C.jsxs)("div",{style:{paddingTop:"30px"},children:[Object(C.jsx)("div",{className:"footer",children:"\xa9 2020 Copyright"}),";"]})},z=c(20),B="ADD_TO_CART",F="REMOVE_FROM_CART",M=function(e,t,c){return function(){var c=Object(b.a)(j.a.mark((function c(r,n){var a,s,i,d;return j.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,p.a.get("/api/products/".concat(e));case 2:a=c.sent,s=a.data,r({type:B,payload:{productId:s._id,name:s.name,price:s.price,description:s.description,image:s.images.url,countInStock:s.countInStock,qty:t}}),i=n(),d=i.cart.cartItems,x.a.set("cartItems",JSON.stringify(d));case 7:case"end":return c.stop()}}),c)})));return function(e,t){return c.apply(this,arguments)}}()};var U=function(e){var t=e.match,c=e.history,n=Object(r.useState)(1),a=Object(i.a)(n,2),s=a[0],d=a[1],o=Object(r.useState)(1),l=Object(i.a)(o,2),h=(l[0],l[1],Object(u.b)()),O=Object(u.c)((function(e){return e.getProductDetail})),x=O.loading,m=O.error,f=O.product;return Object(r.useEffect)((function(){var e;f&&t.params.id!==f._id&&h((e=t.params.id,function(){var t=Object(b.a)(j.a.mark((function t(c){var r,n;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,c({type:g}),t.next=4,p.a.get("/api/products/".concat(e));case 4:r=t.sent,n=r.data,c({type:y,payload:n}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),c({type:N,payload:t.t0.response&&t.t0.response.data.message?t.t0.response.data.message:t.t0.message});case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}()))}),[t,f]),Object(C.jsx)("div",{children:x?Object(C.jsx)("h2",{children:"Loading..."}):m?Object(C.jsx)("h2",{children:m}):Object(C.jsx)(C.Fragment,{children:Object(C.jsxs)("div",{className:"detailPageGrid",children:[Object(C.jsx)("div",{children:f.images&&Object(C.jsx)("div",{children:Object(C.jsx)("img",{className:"detailPageImage",src:f.images.url,alt:f.name})})}),Object(C.jsxs)("div",{children:[Object(C.jsx)("div",{className:"detailPageName",children:f.name}),Object(C.jsxs)("div",{className:"detailPagePrice",children:["Rs.",f.price]}),Object(C.jsxs)("div",{children:[Object(C.jsx)("b",{style:{fontSize:"20px"},children:"status:"}),Object(C.jsxs)("span",{children:[" ",f.countInStock>0?"In Stock":"Out of Stock"]})]}),Object(C.jsxs)("div",{children:[Object(C.jsx)("b",{style:{fontSize:"20px"},children:"Qty:"}),f.countInStock>0&&Object(C.jsxs)("span",{children:[" ",Object(C.jsx)("select",{value:s,onChange:function(e){return d(e.target.value)},children:Object(z.a)(Array(f.countInStock).keys()).map((function(e){return Object(C.jsx)("option",{value:e+1,children:e+1},e+1)}))})]})]}),Object(C.jsx)("div",{style:{padding:"10px"},children:Object(C.jsx)("button",{type:"button",className:"formButton",onClick:function(){h(M(f._id,s)),c.push("/cart")},children:"Add To Cart"})}),Object(C.jsxs)("div",{style:{padding:"10px"},children:[Object(C.jsx)("b",{style:{fontSize:"20px"},children:"Description:"}),f.description]})]})]})})})};var q=function(e){var t=Object(r.useContext)(E),c=Object(i.a)(t.userAPI.isLogged,2),n=c[0],a=(c[1],Object(u.b)()),s=Object(u.c)((function(e){return e.cart})).cartItems,d=0,o=function(e){a(function(e){return function(t,c){t({type:F,payload:e});var r=c().cart.cartItems;x.a.set("cartItems",JSON.stringify(r))}}(e))};return Object(C.jsxs)("div",{children:[Object(C.jsx)("h5",{children:"Shopping Cart"}),0===s.length?Object(C.jsx)("div",{children:"Your cart is empty"}):Object(C.jsx)("div",{children:Object(C.jsxs)("table",{className:"table table-borderless table-hover table-striped table-responsive-stack",children:[Object(C.jsx)("thead",{children:Object(C.jsxs)("tr",{children:[Object(C.jsx)("th",{scope:"col",children:"Sr.No."}),Object(C.jsx)("th",{scope:"col",children:"Image"}),Object(C.jsx)("th",{scope:"col",children:"Name"}),Object(C.jsx)("th",{scope:"col",children:"Qty"}),Object(C.jsx)("th",{scope:"col",children:"Price"}),Object(C.jsx)("th",{scope:"col",children:"Delete"})]})}),s.map((function(t){return Object(C.jsx)("tbody",{children:Object(C.jsxs)("tr",{children:[Object(C.jsx)("th",{scope:"row",children:d+=1}),Object(C.jsx)("td",{children:Object(C.jsx)("div",{children:Object(C.jsx)("img",{className:"cartImage",src:t.image,onClick:function(){return c=t.productId,void e.history.push("/product/"+c);var c}})})}),Object(C.jsx)("td",{children:Object(C.jsx)("div",{className:"cartName",children:t.name})}),Object(C.jsxs)("td",{children:[" ",Object(C.jsx)("select",{value:t.qty,onChange:function(e){return c=t.productId,r=e.target.value,void a(M(c,r));var c,r},children:Object(z.a)(Array(t.countInStock).keys()).map((function(e){return Object(C.jsx)("option",{value:e+1,children:e+1},e+1)}))})]}),Object(C.jsx)("td",{children:Object(C.jsxs)("div",{className:"cartPrice",children:["Rs.",t.price*t.qty]})}),Object(C.jsx)("td",{children:Object(C.jsx)("button",{onClick:function(){return o(t.productId)},children:"Delete"})})]})})}))]})}),0!==s.length&&Object(C.jsx)("div",{className:"cartBox",children:Object(C.jsxs)("div",{style:{padding:"20px"},className:"formLayout",children:[Object(C.jsx)("div",{style:{padding:"10px",paddingBottom:"2px",paddingLeft:"2px"},children:Object(C.jsxs)("b",{children:["Subtotal (",s.reduce((function(e){return e+1}),0),") items"]})}),Object(C.jsxs)("div",{style:{paddingBottom:"20px"},children:["Rs.",s.reduce((function(e,t){return t.price*t.qty+e}),0).toFixed(2)]}),Object(C.jsx)("center",{children:Object(C.jsx)("button",{style:{width:"350px",height:"40px",borderRadius:"8px"},onClick:function(){if(!n)return alert("Please login to continue buying");window.location.href="/address"},children:"Proceed To Pay"})})," "]})})]})};var G=function(){var e=Object(r.useState)({email:"",password:""}),t=Object(i.a)(e,2),c=t[0],n=t[1],a=Object(r.useState)(""),s=Object(i.a)(a,2),d=s[0],o=s[1],l=function(e){var t=e.target,r=t.name,a=t.value;n(Object(A.a)(Object(A.a)({},c),{},Object(_.a)({},r,a)))},u=function(){var e=Object(b.a)(j.a.mark((function e(t){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,e.next=4,p.a.post("http://localhost:5000/user/login",Object(A.a)({},c));case 4:localStorage.setItem("firstLogin",!0),window.location.href="/",e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),o(e.t0.response.data.msg);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}();return Object(C.jsx)("div",{style:{padding:"10%"},children:Object(C.jsx)("center",{children:Object(C.jsxs)("div",{className:"formLayout",children:[Object(C.jsx)("h4",{style:{padding:"30px"},children:"Login"}),Object(C.jsx)("h6",{style:{color:"red"},children:d}),Object(C.jsx)("form",{onSubmit:u,children:Object(C.jsxs)("table",{children:[Object(C.jsx)("tr",{children:Object(C.jsx)("td",{className:"col",children:Object(C.jsx)("input",{type:"email",className:"field",name:"email",id:"exampleDropdownFormEmail1",placeholder:"email@example.com",value:c.email,onChange:l})})}),Object(C.jsx)("tr",{children:Object(C.jsx)("td",{className:"col",children:Object(C.jsx)("input",{type:"password",className:"field",name:"password",id:"exampleDropdownFormPassword1",placeholder:"Password",value:c.password,onChange:l})})}),Object(C.jsx)("tr",{children:Object(C.jsx)("td",{style:{padding:"30px"},children:Object(C.jsx)("button",{type:"submit",className:"formButton",children:"Login"})})})]})}),Object(C.jsx)("div",{className:"dropdown-divider"}),Object(C.jsxs)("a",{className:"dropdown-item",href:"/register",children:["New around here? ",Object(C.jsx)("h6",{style:{color:"blue"},children:"Register"})]})]})})})};var Q=function(){var e=Object(r.useState)({name:"",email:"",password:""}),t=Object(i.a)(e,2),c=t[0],n=t[1],a=Object(r.useState)(""),s=Object(i.a)(a,2),d=s[0],o=s[1],l=function(e){var t=e.target,r=t.name,a=t.value;n(Object(A.a)(Object(A.a)({},c),{},Object(_.a)({},r,a)))},u=function(){var e=Object(b.a)(j.a.mark((function e(t){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,e.next=4,p.a.post("/user/register",Object(A.a)({},c));case 4:localStorage.setItem("firstLogin",!0),window.location.href="/",e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),o(e.t0.response.data.msg);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}();return Object(C.jsx)("div",{style:{padding:"10%"},children:Object(C.jsx)("center",{children:Object(C.jsxs)("div",{className:"formLayout",children:[Object(C.jsx)("h4",{style:{padding:"30px"},children:"Registration Form"}),Object(C.jsx)("h6",{style:{color:"red"},children:d}),Object(C.jsx)("form",{onSubmit:u,children:Object(C.jsxs)("table",{children:[Object(C.jsx)("tr",{children:Object(C.jsx)("td",{className:"col",children:Object(C.jsx)("input",{type:"text",className:"field",name:"name",id:"name",placeholder:"Name",value:c.name,onChange:l})})}),Object(C.jsx)("tr",{children:Object(C.jsx)("td",{className:"col",children:Object(C.jsx)("input",{type:"email",className:"field",name:"email",id:"exampleDropdownFormEmail1",placeholder:"email@example.com",value:c.email,onChange:l})})}),Object(C.jsx)("tr",{children:Object(C.jsx)("td",{className:"col",children:Object(C.jsx)("input",{type:"password",className:"field",name:"password",id:"exampleDropdownFormPassword1",placeholder:"Password",value:c.password,onChange:l})})}),Object(C.jsx)("tr",{children:Object(C.jsx)("td",{style:{padding:"30px"},children:Object(C.jsx)("button",{type:"submit",className:"formButton",children:"Register"})})})]})}),Object(C.jsxs)("a",{className:"dropdown-item",href:"/login",children:["Already you have an account ? ",Object(C.jsx)("b",{style:{color:"blue"},children:"Login"})]})]})})})};var W=function(e){var t=Object(r.useContext)(E),c=Object(i.a)(t.categoryAPI.categories,2),n=c[0],a=(c[1],Object(r.useState)("")),s=Object(i.a)(a,2),d=s[0],o=s[1],l=Object(i.a)(t.token,1)[0],u=Object(i.a)(t.categoryAPI.callback,2),h=u[0],O=u[1],x=Object(r.useState)(!1),m=Object(i.a)(x,2),f=m[0],v=m[1],g=Object(r.useState)(""),y=Object(i.a)(g,2),N=y[0],w=y[1],k=0,S=function(){var e=Object(b.a)(j.a.mark((function e(t){var c,r;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),e.prev=1,!f){e.next=9;break}return e.next=5,p.a.put("/api/category/".concat(N),{name:d},{headers:{Authorization:l}});case 5:c=e.sent,alert(c.data.msg),e.next=13;break;case 9:return e.next=11,p.a.post("/api/category",{name:d},{headers:{Authorization:l}});case 11:r=e.sent,alert(r.data.msg);case 13:v(!1),o(""),O(!h),e.next=21;break;case 18:e.prev=18,e.t0=e.catch(1),alert(e.t0.response.data.msg);case 21:case"end":return e.stop()}}),e,null,[[1,18]])})));return function(t){return e.apply(this,arguments)}}(),I=function(){var e=Object(b.a)(j.a.mark((function e(t,c){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:w(t),o(c),v(!0);case 3:case"end":return e.stop()}}),e)})));return function(t,c){return e.apply(this,arguments)}}(),P=function(){var e=Object(b.a)(j.a.mark((function e(t){var c;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,p.a.delete("/api/category/".concat(t),{headers:{Authorization:l}});case 3:c=e.sent,alert(c.data.msg),O(!h),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),alert(e.t0.response.data.msg);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}();return Object(C.jsx)("div",{style:{padding:"10px "},children:Object(C.jsxs)("div",{className:"categoryGrid",children:[Object(C.jsxs)("div",{className:"formLayout",children:[Object(C.jsx)("center",{children:Object(C.jsxs)("form",{onSubmit:S,children:[Object(C.jsx)("center",{children:Object(C.jsx)("h4",{children:"Create Category"})}),Object(C.jsxs)("table",{children:[Object(C.jsx)("tr",{children:Object(C.jsx)("td",{className:"col",children:Object(C.jsx)("input",{type:"text",className:"field",name:"category",id:"exampleDropdownFormName1",placeholder:"Category",value:d,required:!0,onChange:function(e){return o(e.target.value)}})})}),Object(C.jsx)("tr",{children:Object(C.jsx)("td",{style:{padding:"30px"},children:Object(C.jsx)("button",{type:"submit",className:"formButton",children:f?"Update":"Create"})})})]})]})}),Object(C.jsx)("center",{style:{padding:"1px"},children:Object(C.jsx)("button",{type:"submit",className:"backButton",onClick:function(){e.history.push("/dashboard")},children:"Back"})})]}),Object(C.jsx)("div",{style:{padding:"40px"},children:Object(C.jsxs)("table",{className:"table table-borderless table-hover table-striped table-responsive-stack",children:[0!==n.length&&Object(C.jsx)("thead",{children:Object(C.jsxs)("tr",{children:[Object(C.jsx)("th",{scope:"col",children:"Sr.No."}),Object(C.jsx)("th",{scope:"col",children:"Categories"}),Object(C.jsx)("th",{style:{columnSpan:"2"},scope:"col",children:"Action"})]})}),n.map((function(e){return Object(C.jsxs)("tr",{className:"categoryRow",children:[Object(C.jsx)("td",{className:"categoryCol",children:k+=1}),Object(C.jsx)("td",{className:"categoryCol",children:Object(C.jsx)("h5",{children:e.name})}),Object(C.jsxs)("td",{style:{margin:"20px"},children:[Object(C.jsx)("button",{onClick:function(){return I(e._id,e.name)},children:"Edit"}),"\xa0"," ",Object(C.jsx)("button",{onClick:function(){return P(e._id)},children:"Delete"})]})]},e._id)}))]})})]})})},Y={name:"",price:"",description:"",countInStock:"",category:"",_id:""};var H=function(e){var t=Object(r.useContext)(E),c=Object(r.useState)(Y),n=Object(i.a)(c,2),a=n[0],s=n[1],d=Object(i.a)(t.categoryAPI.categories,1)[0],l=Object(r.useState)(!0),h=Object(i.a)(l,2),O=h[0],x=h[1],m=Object(i.a)(t.userAPI.isAdmin,1)[0],f=Object(i.a)(t.token,1)[0],v=Object(o.f)(),g=Object(o.g)(),y=(Object(u.b)(),Object(u.c)((function(e){return e.getProducts}))),N=y.products,w=(y.loading,y.error,Object(r.useState)(!1)),k=Object(i.a)(w,2),S=k[0],I=k[1];Object(r.useEffect)((function(){g.id?(I(!0),N.forEach((function(e){e._id===g.id&&(s(e),console.log(e),x(e.images))}))):(I(!1),s(Y),x(!1))}),[g.id,N]);var P={display:O?"block":"none"},D=function(){var e=Object(b.a)(j.a.mark((function e(t){var c,r,n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),e.prev=1,m){e.next=4;break}return e.abrupt("return",alert("You are not an admin"));case 4:if(c=t.target.files[0]){e.next=7;break}return e.abrupt("return","File not exist");case 7:if(!(c.size>1048576)){e.next=9;break}return e.abrupt("return",alert("Size too large"));case 9:if("image/jpeg"===c.type||"image/png"===c.type){e.next=11;break}return e.abrupt("return",alert("File format is incorrect"));case 11:return(r=new FormData).append("file",c),e.next=15,p.a.post("/api/upload",r,{headers:{"content-type":"multipart/form-data",Authorization:f}});case 15:n=e.sent,x(n.data),e.next=22;break;case 19:e.prev=19,e.t0=e.catch(1),console.log("error");case 22:case"end":return e.stop()}}),e,null,[[1,19]])})));return function(t){return e.apply(this,arguments)}}(),T=function(){var e=Object(b.a)(j.a.mark((function e(){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,m){e.next=3;break}return e.abrupt("return",alert("You are not an admin"));case 3:return e.next=5,p.a.post("/api/destroy",{public_id:O.public_id},{headers:{Authorization:f}});case 5:x(!1),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),alert(e.t0.response.data.msg);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}(),R=function(e){var t=e.target,c=t.name,r=t.value;s(Object(A.a)(Object(A.a)({},a),{},Object(_.a)({},c,r)))},L=function(){var e=Object(b.a)(j.a.mark((function e(t){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),e.prev=1,m){e.next=4;break}return e.abrupt("return",alert("You are not an admin"));case 4:if(O){e.next=6;break}return e.abrupt("return",alert("No Image Upload"));case 6:if(!S){e.next=11;break}return e.next=9,p.a.put("/api/products/".concat(a._id),Object(A.a)(Object(A.a)({},a),{},{images:O}),{headers:{Authorization:f}});case 9:e.next=13;break;case 11:return e.next=13,p.a.post("/api/products",Object(A.a)(Object(A.a)({},a),{},{images:O}),{headers:{Authorization:f}});case 13:x(!1),s(Y),v.push("/dashboard"),e.next=21;break;case 18:e.prev=18,e.t0=e.catch(1),console.log(e.t0.response.data.msg);case 21:case"end":return e.stop()}}),e,null,[[1,18]])})));return function(t){return e.apply(this,arguments)}}();return Object(C.jsx)("div",{style:{padding:"1%"},children:Object(C.jsx)("center",{children:Object(C.jsxs)("div",{className:"formLayout",children:[Object(C.jsx)("h4",{style:{padding:"20px"},children:"Add Product"}),Object(C.jsx)("form",{onSubmit:L,children:Object(C.jsxs)("table",{children:[Object(C.jsxs)("tr",{children:[Object(C.jsx)("td",{className:"col",children:Object(C.jsx)("input",{type:"text",className:"field",placeholder:"Enter Product Name",name:"name",id:"name",required:!0,value:a.name,onChange:R})})," "]}),Object(C.jsx)("tr",{children:Object(C.jsx)("td",{className:"col",children:Object(C.jsx)("input",{type:"textl",className:"field",placeholder:"Enter Product Price",name:"price",id:"price",required:!0,value:a.price,onChange:R})})}),Object(C.jsx)("tr",{children:Object(C.jsx)("td",{className:"col",children:Object(C.jsx)("textarea",{name:"description",style:{width:"100%",border:"chartreuse",margin:"8px -8px"},placeholder:"    Enter Product Description",id:"description",required:!0,value:a.description,rows:"3",onChange:R})})}),Object(C.jsx)("tr",{children:Object(C.jsx)("td",{className:"col",children:Object(C.jsx)("input",{type:"number",className:"field",placeholder:"Enter Count In Stock",name:"countInStock",id:"countInStock",required:!0,value:a.countInStock,rows:"3",onChange:R})})}),Object(C.jsx)("tr",{children:Object(C.jsx)("td",{style:{padding:"20px"},children:Object(C.jsxs)("select",{name:"category",value:a.category,onChange:R,children:[Object(C.jsx)("option",{value:"",children:"Please select a category"}),d.map((function(e){return Object(C.jsx)("option",{value:e.name,children:e.name},e._id)}))]})})}),Object(C.jsx)("tr",{children:Object(C.jsxs)("td",{style:{padding:"20px"},children:[Object(C.jsx)("input",{type:"file",name:"file",onChange:D}),Object(C.jsxs)("div",{id:"file_img",style:P,children:[Object(C.jsx)("img",{className:"cartImage",src:O?O.url:"",alt:""}),Object(C.jsx)("span",{href:"#",onClick:T,children:"X"})]})]})}),Object(C.jsx)("td",{style:{padding:"30px"},children:Object(C.jsx)("tr",{children:Object(C.jsx)("button",{type:"submit",className:"formButton",children:S?"Update":"Create"})})})]})}),Object(C.jsx)("div",{style:{padding:"5px"},children:Object(C.jsx)("button",{type:"submit",className:"backButton",onClick:function(){e.history.push("/dashboard")},children:"Back"})})]})})})};var J=function(){return Object(C.jsx)("div",{children:"Not Found!"})};var K=function(e){var t=Object(r.useContext)(E),c=Object(i.a)(t.userAPI.resp,1)[0],n=(Object(i.a)(t.userAPI.id,1)[0],Object(i.a)(t.token,1)[0]),a=(Object(i.a)(t.userAPI.isLogged,1)[0],Object(i.a)(t.userAPI.isAdmin,1)[0],Object(i.a)(t.userAPI.records,1)[0],e.location.state.user),s=Object(u.c)((function(e){return e.cart})).cartItems,d=Object(r.useState)(s),o=Object(i.a)(d,2),l=o[0];function h(e){return new Promise((function(t){var c=document.createElement("script");c.src=e,c.onload=function(){t(!0)},c.onerror=function(){t(!1)},document.body.appendChild(c)}))}o[1];var O=function(){return s.reduce((function(e,t){return t.price*t.qty+e}),0)},m=function(){var e=Object(b.a)(j.a.mark((function e(t){var r,s,i,d,o,u,m;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,h("https://checkout.razorpay.com/v1/checkout.js");case 3:if(r=e.sent){e.next=9;break}return alert("Razorpay SDK failed to load. Are you online?"),e.abrupt("return");case 9:alert(r);case 10:return e.next=12,p.a.post("http://localhost:5000/payment/orders",{price:O()});case 12:if(s=e.sent){e.next=16;break}return alert("Server error. Are you online?"),e.abrupt("return");case 16:i=s.data,d=i.amount,o=i.id,u=i.currency,m={key:Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).RAZORPAY_KEY_ID,amount:d.toString(),currency:u,name:"Smart Corp Limited",description:"Test Transaction",order_id:o,handler:function(){var e=Object(b.a)(j.a.mark((function e(t){var c,r;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c={cart:l,amount:d,orderCreationId:o,razorpayPaymentId:t.razorpay_payment_id,razorpayOrderId:t.razorpay_order_id,razorpaySignature:t.razorpay_signature},e.next=3,p.a.post("http://localhost:5000/payment/verification",c);case 3:return r=e.sent,e.next=6,p.a.post("http://localhost:5000/payment/capture",c,{headers:{Authorization:n}});case 6:e.sent,alert(r.data.msg),x.a.remove("cartItems"),window.location.href="/";case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),modal:{ondismiss:function(){var e=Object(b.a)(j.a.mark((function e(){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:alert("Checkout form closed");case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},prefill:{name:c.data.name,email:c.data.email,contact:a.mobileNumber},notes:{address:a.address+","+a.city+","+a.state+","+a.pincode,name:c.data.name},theme:{color:"#61dafb"}},new window.Razorpay(m).open();case 20:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(C.jsx)("div",{style:{padding:"5%"},children:Object(C.jsx)("center",{children:Object(C.jsxs)("div",{className:"formLayout",children:[Object(C.jsx)("h4",{style:{padding:"30px"},children:"Verify your personal details to proceed further..."}),Object(C.jsxs)("table",{style:{padding:"20px"},children:[Object(C.jsx)("b",{className:"review",children:"Name:"})," ",c&&Object(C.jsx)("span",{className:"reviewData",children:c.data.name}),Object(C.jsx)("br",{}),Object(C.jsx)("b",{className:"review",children:"Email:"})," ",c&&Object(C.jsx)("span",{className:"reviewData",children:c.data.email}),Object(C.jsx)("br",{}),Object(C.jsx)("b",{className:"review",children:"Mobile Number:"})," ",a&&Object(C.jsx)("span",{children:a.mobileNumber}),Object(C.jsx)("br",{}),Object(C.jsx)("b",{className:"review",children:"Address:"})," ",a&&Object(C.jsxs)("span",{style:{paddingLeft:"60px"},children:[a.address,", ",a.city,", ",a.state,", ",a.pincode]}),Object(C.jsx)("br",{}),Object(C.jsx)("b",{className:"review",children:"Total Items:"})," ",Object(C.jsx)("span",{style:{paddingLeft:"40px"},children:s.reduce((function(e,t){return e+Number(t.qty)}),0)}),Object(C.jsx)("br",{}),Object(C.jsx)("b",{className:"review",children:"Total Amount:"})," ",Object(C.jsx)("span",{style:{paddingLeft:"20px"},children:O()}),Object(C.jsx)("br",{}),Object(C.jsx)("b",{className:"review",children:" Payment Mode:"}),Object(C.jsx)("span",{style:{paddingLeft:"10px"},children:"Online-Razorpay"}),Object(C.jsxs)("div",{className:"review",children:["Click on ",Object(C.jsx)("b",{children:"Confirm"})," button to place order your successfully"]}),Object(C.jsxs)("center",{children:[" ",Object(C.jsx)("button",{type:"submit",className:"formButton",onClick:m,children:"Confirm"})]}),Object(C.jsxs)("center",{style:{padding:"10px"},children:[" ",Object(C.jsx)("button",{type:"submit",className:"backButton",onClick:function(){e.history.push("/address")},children:"Back"})]}),Object(C.jsx)("div",{style:{padding:"20px"}})]})]})})})};var V=function(){var e=Object(r.useContext)(E),t=0,c=Object(i.a)(e.userAPI.records,2),n=c[0],a=(c[1],n.map((function(e){return e.cart})));return console.log(a),Object(C.jsxs)("div",{children:[n&&0===n.length&&Object(C.jsx)("h6",{children:"No Order"}),Object(C.jsxs)("table",{className:"table table-borderless table-hover table-striped table-responsive-stack",children:[Object(C.jsx)("thead",{children:n&&0!==n.length&&Object(C.jsxs)("tr",{children:[Object(C.jsx)("th",{scope:"col",children:"Sr.No."}),Object(C.jsx)("th",{scope:"col",children:"Order Id"}),Object(C.jsx)("th",{scope:"col",children:"Items"}),Object(C.jsx)("th",{scope:"col",children:"Status"})]})}),n&&Object(C.jsx)("tbody",{children:n.map((function(e){return Object(C.jsxs)("tr",{children:[Object(C.jsx)("td",{children:Object(C.jsx)("div",{className:"cartName",children:t+=1})}),Object(C.jsx)("td",{children:Object(C.jsx)("div",{className:"cartName",children:e.payment.order_id})}),Object(C.jsx)("td",{children:Object(C.jsx)("div",{className:"cartName",children:e.cart.length})}),Object(C.jsx)("td",{children:Object(C.jsx)("div",{children:e.payment.status})}),Object(C.jsx)("td",{children:Object(C.jsx)(d.b,{to:"/userorder/".concat(e._id),children:"View Order"})})]})}))})]})]})};var X=function(){var e=Object(r.useContext)(E),t=(Object(i.a)(e.token,1)[0],Object(i.a)(e.userAPI.order,2)),c=t[0];t[1],console.log(c);var n=0;return Object(C.jsxs)("div",{children:[c&&0===c.length&&Object(C.jsx)("h4",{children:"No Orders"}),c&&0!==c.length&&Object(C.jsxs)("h4",{children:["You have order of ",c.length," customers."]}),Object(C.jsxs)("table",{className:"table table-borderless table-hover table-striped table-responsive-stack",children:[Object(C.jsx)("thead",{children:c&&0!=c.length&&Object(C.jsxs)("tr",{children:[Object(C.jsx)("th",{children:"Sr.No."}),Object(C.jsx)("th",{children:"Order Id"}),Object(C.jsx)("th",{children:"Name"}),Object(C.jsx)("th",{children:"Email"}),Object(C.jsx)("th",{children:"Mobile Number"}),Object(C.jsx)("th",{children:"Address"})]})}),c&&Object(C.jsx)("tbody",{children:c.map((function(e){return Object(C.jsxs)("tr",{children:[Object(C.jsx)("td",{children:n+=1}),Object(C.jsx)("td",{children:e.payment.order_id}),Object(C.jsx)("td",{children:e.payment.notes.name}),Object(C.jsx)("td",{children:e.payment.email}),Object(C.jsx)("td",{children:e.payment.contact}),Object(C.jsx)("td",{children:e.payment.notes.address}),Object(C.jsx)("td",{children:Object(C.jsx)(d.b,{to:"/viewOrders/".concat(e._id),children:"View Orders"})})]},e._id)}))})]})]})};var Z=function(e){var t=e.match,c=Object(r.useContext)(E),n=Object(i.a)(c.userAPI.order,1)[0],a=0;return Object(C.jsxs)("div",{children:[n.map((function(e){return t.params.id===e._id&&Object(C.jsxs)("div",{children:[Object(C.jsx)("tr",{children:Object(C.jsxs)("td",{children:[Object(C.jsx)("b",{children:"Shipping Address:"}),Object(C.jsx)("span",{children:e.payment.notes.address})]})}),Object(C.jsx)("tr",{children:Object(C.jsxs)("td",{children:[Object(C.jsx)("b",{children:"Date of Purchasing:"}),Object(C.jsxs)("span",{children:[new Date(e.header.date).toDateString(),",",new Date(e.header.date).toLocaleTimeString()]})]})})]})})),Object(C.jsxs)("table",{className:"table table-borderless table-hover table-striped table-responsive-stack",children:[Object(C.jsx)("thead",{children:n&&0!==n.length&&Object(C.jsxs)("tr",{children:[Object(C.jsx)("th",{children:"Sr.No."}),Object(C.jsx)("th",{children:"Image"}),Object(C.jsx)("th",{children:"Name"}),Object(C.jsx)("th",{children:"Quantity"}),Object(C.jsx)("th",{children:"Price"})]})}),n&&Object(C.jsxs)("tbody",{children:[n.map((function(e){return t.params.id===e._id&&e.cart.map((function(e){return Object(C.jsxs)("tr",{children:[Object(C.jsx)("td",{children:a+=1}),Object(C.jsx)("td",{children:Object(C.jsx)("img",{className:"cartImage",src:e.image,alt:""})}),Object(C.jsx)("td",{children:Object(C.jsx)("div",{className:"cartName",children:e.name})}),Object(C.jsx)("td",{children:Object(C.jsx)("div",{className:"cartQuantity",children:e.qty})}),Object(C.jsx)("td",{children:Object(C.jsxs)("div",{className:"cartPrice",children:["Rs.",e.price*e.qty]})})]},e.productId)}))})),n&&n.map((function(e){return t.params.id===e._id&&Object(C.jsxs)("div",{children:[" ",Object(C.jsx)("b",{children:"Total Price: "}),Object(C.jsxs)("span",{children:["Rs.",e.payment.amount/100]})]})}))]})]})]})};var $=function(e){var t=e.history,c=Object(u.b)(),n=Object(r.useContext)(E),a=Object(i.a)(n.val,1)[0],s=Object(i.a)(n.category,1)[0],d=0,o=Object(i.a)(n.token,1)[0],l=Object(r.useState)(!1),h=Object(i.a)(l,2),O=h[0],x=h[1],m=Object(u.c)((function(e){return e.getProducts})),f=m.products;m.loading,m.error,Object(r.useEffect)((function(){c(k(a,s))}),[O,a,s]);var v=function(){var e=Object(b.a)(j.a.mark((function e(t,c){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,p.a.delete("/api/products/".concat(t),{headers:{Authorization:o}});case 3:x(!O),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),alert(e.t0.response.data.msg);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t,c){return e.apply(this,arguments)}}();return Object(C.jsxs)("div",{children:[Object(C.jsx)("center",{children:Object(C.jsx)("h4",{style:{padding:"20px"},children:"Admin Dashboard"})}),Object(C.jsx)("br",{}),Object(C.jsx)("br",{}),Object(C.jsxs)("center",{children:[Object(C.jsx)("table",{children:Object(C.jsxs)("tr",{children:[Object(C.jsx)("td",{style:{padding:"20px"},children:Object(C.jsx)("button",{className:"addButton",onClick:function(){t.push("/create_product")},children:"+"})}),Object(C.jsx)("td",{children:Object(C.jsx)("button",{className:"createButton",onClick:function(){t.push("/category")},children:"Create Category"})})]})}),Object(C.jsxs)("table",{className:"table table-borderless table-hover table-striped table-responsive-stack",children:[0!==f.length&&Object(C.jsx)("thead",{children:Object(C.jsxs)("tr",{children:[Object(C.jsx)("th",{children:"Sr.No."}),Object(C.jsx)("th",{children:"Product Id"}),Object(C.jsx)("th",{children:"Name"}),Object(C.jsx)("th",{children:"Category"}),Object(C.jsx)("th",{children:"Count In Stock"}),Object(C.jsx)("th",{children:"Price"}),Object(C.jsx)("th",{children:"Edit"}),Object(C.jsx)("th",{children:"Delete"})]})}),f&&Object(C.jsx)("tbody",{children:f.map((function(e){return Object(C.jsxs)("tr",{children:[Object(C.jsx)("td",{children:d+=1}),Object(C.jsx)("td",{children:e._id}),Object(C.jsx)("td",{children:e.name}),Object(C.jsx)("td",{children:e.category}),Object(C.jsx)("td",{children:e.countInStock}),Object(C.jsx)("td",{children:e.price}),Object(C.jsx)("td",{children:Object(C.jsx)("button",{type:"button",href:"#",onClick:function(){return c=e._id,void t.push("/edit_product/".concat(c));var c},children:"Edit"})}),Object(C.jsx)("td",{children:Object(C.jsx)("button",{type:"button",href:"#",onClick:function(){return v(e._id,e.images.public_id)},children:"Delete"})})]},e._id)}))})]})]})]})};var ee=function(){return Object(C.jsx)("div",{children:Object(C.jsxs)("h6",{children:[" ","Please ",Object(C.jsx)(d.b,{to:"/login",children:"Login"})," to see your orders..."]})})};var te=function(e){var t=e.match,c=Object(r.useContext)(E),n=Object(i.a)(c.userAPI.records,1)[0],a=0;return Object(u.c)((function(e){return e.cart})).cartItems,Object(C.jsxs)("div",{children:[n.map((function(e){return t.params.id===e._id&&Object(C.jsxs)("div",{children:[Object(C.jsx)("tr",{children:Object(C.jsxs)("td",{children:[Object(C.jsx)("b",{children:"Shipping Address:"}),Object(C.jsx)("span",{children:e.payment.notes.address})]})}),Object(C.jsx)("tr",{children:Object(C.jsxs)("td",{children:[Object(C.jsx)("b",{children:"Date of Purchasing:"}),Object(C.jsxs)("span",{children:[new Date(e.header.date).toDateString(),",",new Date(e.header.date).toLocaleTimeString()]})]})})]})})),Object(C.jsxs)("table",{className:"table table-borderless table-hover table-striped table-responsive-stack",children:[Object(C.jsx)("thead",{children:n&&0!==n.length&&Object(C.jsxs)("tr",{children:[Object(C.jsx)("th",{scope:"col",children:"Sr.No."}),Object(C.jsx)("th",{scope:"col",children:"Image"}),Object(C.jsx)("th",{scope:"col",children:"Name"}),Object(C.jsx)("th",{scope:"col",children:"Quantity"}),Object(C.jsx)("th",{scope:"col",children:"Price"})]})}),n&&Object(C.jsxs)("tbody",{children:[n.map((function(e){return t.params.id===e._id&&e.cart.map((function(e){return Object(C.jsxs)("tr",{children:[Object(C.jsx)("td",{children:a+=1}),Object(C.jsx)("td",{children:Object(C.jsx)("img",{className:"cartImage",src:e.image,alt:""})}),Object(C.jsx)("td",{children:Object(C.jsx)("div",{className:"cartName",children:e.name})}),Object(C.jsx)("td",{children:Object(C.jsx)("div",{className:"cartQuantity",children:e.qty})}),Object(C.jsx)("td",{children:Object(C.jsxs)("div",{className:"cartPrice",children:["Rs.",e.price*e.qty]})})]},e.productId)}))})),n&&n.map((function(e){return t.params.id===e._id&&Object(C.jsxs)("div",{children:[" ",Object(C.jsx)("b",{children:"Total Price: "}),Object(C.jsxs)("span",{children:["Rs.",e.payment.amount/100]})]})}))]})]})]})};var ce=function(){var e=Object(r.useContext)(E),t=Object(i.a)(e.userAPI.isLogged,1)[0],c=Object(i.a)(e.userAPI.isAdmin,1)[0];return Object(C.jsxs)(d.a,{children:[Object(C.jsx)(R,{}),Object(C.jsx)("main",{children:Object(C.jsxs)(o.c,{children:[Object(C.jsx)(o.a,{exact:!0,path:"/",component:S}),Object(C.jsx)(o.a,{exact:!0,path:"/dashboard",component:c?$:J}),Object(C.jsx)(o.a,{exact:!0,path:"/product/:id",component:U}),Object(C.jsx)(o.a,{exact:!0,path:"/cart",component:q}),Object(C.jsx)(o.a,{path:"/login",component:G}),Object(C.jsx)(o.a,{path:"/register",component:Q}),Object(C.jsx)(o.a,{exact:!0,path:"/category",component:c?W:J}),Object(C.jsx)(o.a,{exact:!0,path:"/create_product",component:c?H:J}),Object(C.jsx)(o.a,{exact:!0,path:"/edit_product/:id",component:c?H:J}),Object(C.jsx)(o.a,{exact:!0,path:"/address",component:D}),Object(C.jsx)(o.a,{exact:!0,path:"/review",component:K}),Object(C.jsx)(o.a,{exact:!0,path:"/order",component:t?V:J}),Object(C.jsx)(o.a,{exact:!0,path:"/adminOrder",component:c?X:J}),Object(C.jsx)(o.a,{exact:!0,path:"/viewOrders/:id",component:c?Z:J}),Object(C.jsx)(o.a,{exact:!0,path:"/noOrder",component:ee}),Object(C.jsx)(o.a,{exact:!0,path:"/userorder/:id",component:te}),Object(C.jsx)(o.a,{exact:!0,path:"*",component:J})]})}),Object(C.jsx)(L,{})]})},re=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,84)).then((function(t){var c=t.getCLS,r=t.getFID,n=t.getFCP,a=t.getLCP,s=t.getTTFB;c(e),r(e),n(e),a(e),s(e)}))},ne=c(18),ae=c(44),se=c(45),ie={cart:{cartItems:x.a.getJSON("cartItems")||[]}},de=Object(ne.combineReducers)({cart:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{cartItems:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case B:var c=t.payload,r=e.cartItems.find((function(e){return e.productId===c.productId}));return r?{cartItems:e.cartItems.map((function(e){return e.productId===r.productId?c:e}))}:{cartItems:[].concat(Object(z.a)(e.cartItems),[c])};case F:return{cartItems:e.cartItems.filter((function(e){return e.productId!==t.payload}))};default:return e}},getProducts:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{products:[]},t=arguments.length>1?arguments[1]:void 0;switch(console.log(t.payload),t.type){case m:return{loading:!0,products:[]};case f:return{loading:!1,products:t.payload};case v:return{loading:!1,error:t.payload};default:return e}},getProductDetail:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{products:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case g:return{loading:!0};case y:return{loading:!1,product:t.payload};case N:return{loading:!1,error:t.payload};case w:return{product:{}};default:return e}}}),oe=[ae.a],le=Object(ne.createStore)(de,ie,Object(se.composeWithDevTools)(ne.applyMiddleware.apply(void 0,oe)));s.a.render(Object(C.jsx)(u.a,{store:le,children:Object(C.jsx)(T,{children:Object(C.jsx)(n.a.StrictMode,{children:Object(C.jsx)(ce,{})})})}),document.getElementById("root")),re()}},[[82,1,2]]]);
//# sourceMappingURL=main.6403ea78.chunk.js.map